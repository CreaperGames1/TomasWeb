<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Christmas Web</title>

  <style>
    /* z√°kladn√≠ reset + v√°noƒçn√≠ pozad√≠ */
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* NAVBAR */
    .navbar {
      position: fixed;
      top: 0; left: 0; width: 100%;
      background: linear-gradient(135deg, #b22222, #006400);
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      z-index: 1000;
    }
    .nav-container {
      max-width: 1200px; margin: 0 auto; padding: 0 20px;
      display: flex; justify-content: space-between; align-items: center;
      height: 70px;
    }
    .logo {
      color: white; font-size: 1.8rem; font-weight: bold;
      text-decoration: none; text-shadow: 0 0 10px rgba(255,255,255,0.8);
    }
    .logo:hover { color: #ffd700; }
    .nav-links {
      list-style: none; display: flex; gap: 35px; margin: 0; padding: 0;
    }
    .nav-links a {
      color: white; text-decoration: none; font-size: 1.1rem;
      padding: 8px 12px; border-radius: 6px; position: relative;
    }
    .nav-links a:hover, .nav-links a.active {
      background: rgba(255,255,255,0.15); color: #fff200;
    }
    .hamburger { display: none; flex-direction: column; gap: 6px; cursor: pointer; }
    .hamburger span {
      width: 28px; height: 4px; background: white; border-radius: 3px;
    }
    @media (max-width: 768px) {
      .nav-links {
        position: absolute; top: 70px; left: 0; width: 100%;
        background: #006400; flex-direction: column; align-items: center;
        gap: 20px; padding: 30px 0; transform: translateY(-100%);
        transition: transform 0.4s ease;
      }
      .nav-links.active { transform: translateY(0); }
      .hamburger { display: flex; }
    }

    /* zbytek styl≈Ø (garland, strom, sn√≠h, popup atd.) ‚Äì zkr√°cenƒõ */
    .garland { position:fixed; top:0; width:100%; height:60px; pointer-events:none; z-index:999; }
    .garland span {
      position:absolute; width:100%; height:4px;
      background: linear-gradient(90deg, transparent, #ff69b4, #00ffff, #ffff00, transparent);
      animation: garland-move 12s linear infinite;
    }
    @keyframes garland-move { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

    .welcome-text { text-align:center; margin-top:120px; font-size:3.5rem; color:#ffd700; text-shadow:0 0 20px #ff4500; }
    .search-box { text-align:center; margin:30px 0; }
    .search-box input { padding:12px 20px; width:350px; max-width:90%; border-radius:30px; border:none; }

    .music-result { text-align:center; margin:40px 0; }
    .music-result button { margin:10px; padding:10px 25px; cursor:pointer; }

    .login-btn, .register-btn, #logoutBtn {
      position: fixed; top: 85px; padding:10px 20px; font-size:1rem;
      cursor:pointer; border:none; border-radius:6px; color:white;
    }
    .login-btn { right:180px; background:#006400; }
    .register-btn { right:80px; background:#b22222; }
    #logoutBtn { right:20px; background:#8b0000; display:none; }

    .login-popup {
      position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      background:rgba(0,0,0,0.85); padding:30px; border-radius:12px;
      box-shadow:0 0 30px rgba(255,215,0,0.5); z-index:2000; display:none;
      text-align:center; width:320px;
    }
    .login-popup input { display:block; width:100%; margin:12px 0; padding:12px; border-radius:6px; border:none; }
    .login-popup button { margin:10px 5px; padding:10px 20px; cursor:pointer; }

    #snow { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">üéÑ Christmas Web</a>
      <ul class="nav-links">
        <li><a href="#" class="active">Home</a></li>
        <li><a href="chcickengame.html">Games</a></li>
      </ul>
      <div class="hamburger" onclick="toggleMenu()">
        <span></span><span></span><span></span>
      </div>
    </div>
  </nav>

  <!-- Garland -->
  <div class="garland" id="garland">
    <span></span><span></span><span></span><span></span><span></span>
    <span></span><span></span><span></span><span></span><span></span>
    <span></span><span></span><span></span><span></span><span></span>
  </div>

  <!-- Welcome -->
  <h1 id="welcomeMessage" class="welcome-text">Vesel√© V√°noce!</h1>

  <!-- Search -->
  <div class="search-box">
    <input type="text" placeholder="Search..." onkeydown="handleSearch(event)">
  </div>

  <!-- Music -->
  <div class="music-result" id="musicResult">
    <p>üéÑ Christmas Songs</p>
    <button onclick="playMusic()">‚ñ∂ Play</button>
    <button onclick="pauseMusic()">‚è∏ Pause</button>
    <audio id="christmasAudio" loop>
      <source src="......" type="audio/mp4">
    </audio>
  </div>

  <!-- Login / Register / Logout buttons -->
  <button class="login-btn" id="loginBtn" onclick="openLogin()">Login</button>
  <button class="register-btn" id="registerBtn" onclick="openRegister()">Register</button>
  <button id="logoutBtn" onclick="logout()">Logout</button>

  <!-- Login Popup -->
  <div class="login-popup" id="loginPopup">
    <h2>Login</h2>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <button onclick="closeLogin()">Close</button>
    <p id="loginMessage" style="color:#ff4444;"></p>
  </div>

  <!-- Register Popup -->
  <div class="login-popup" id="registerPopup">
    <h2>Register</h2>
    <input id="newUsername" placeholder="Username">
    <input id="newPassword" type="password" placeholder="Password">
    <button onclick="register()">Register</button>
    <button onclick="closeRegister()">Close</button>
    <p id="registerMessage" style="color:#ff4444;"></p>
  </div>

  <!-- Snow canvas -->
  <canvas id="snow"></canvas>

  <script>
    // Hamburger menu
    function toggleMenu() {
      document.querySelector('.nav-links').classList.toggle('active');
    }

    // Music controls
    const audio = document.getElementById('christmasAudio');
    function playMusic() { audio.play(); }
    function pauseMusic() { audio.pause(); }

    // Popups
    function openLogin()  { document.getElementById('loginPopup').style.display = 'block'; }
    function closeLogin() { document.getElementById('loginPopup').style.display = 'none'; }
    function openRegister()  { document.getElementById('registerPopup').style.display = 'block'; }
    function closeRegister() { document.getElementById('registerPopup').style.display = 'none'; }

    // Jednoduch√© p≈ôihla≈°ov√°n√≠ / registrace (localStorage)
    function login() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();
      const savedPassword = localStorage.getItem('user_' + username);

      if (!username || !password) {
        document.getElementById('loginMessage').textContent = 'Vypl≈àte v≈°echna pole!';
        return;
      }

      if (savedPassword && savedPassword === password) {
        localStorage.setItem('loggedInUser', username);
        updateUIAfterLogin();
        closeLogin();
        document.getElementById('loginMessage').textContent = '';
      } else {
        document.getElementById('loginMessage').textContent = '≈†patn√© u≈æivatelsk√© jm√©no nebo heslo!';
      }
    }

    function register() {
      const username = document.getElementById('newUsername').value.trim();
      const password = document.getElementById('newPassword').value.trim();

      if (!username || !password) {
        document.getElementById('registerMessage').textContent = 'Vypl≈àte v≈°echna pole!';
        return;
      }

      if (localStorage.getItem('user_' + username)) {
        document.getElementById('registerMessage').textContent = 'U≈æivatel u≈æ existuje!';
        return;
      }

      localStorage.setItem('user_' + username, password);
      document.getElementById('registerMessage').textContent = 'Registrace √∫spƒõ≈°n√°! Teƒè se m≈Ø≈æete p≈ôihl√°sit.';
      setTimeout(closeRegister, 1500);
    }

    function logout() {
      localStorage.removeItem('loggedInUser');
      document.getElementById('logoutBtn').style.display = 'none';
      document.getElementById('loginBtn').style.display = 'block';
      document.getElementById('registerBtn').style.display = 'block';
      document.getElementById('welcomeMessage').textContent = 'Vesel√© V√°noce!';
    }

    function updateUIAfterLogin() {
      const user = localStorage.getItem('loggedInUser');
      if (user) {
        document.getElementById('welcomeMessage').textContent = `V√≠tej zpƒõt, ${user}! üéÖ`;
        document.getElementById('logoutBtn').style.display = 'block';
        document.getElementById('loginBtn').style.display = 'none';
        document.getElementById('registerBtn').style.display = 'none';
      }
    }

    // Kontrola p≈ôi naƒçten√≠ str√°nky
    window.onload = () => {
      updateUIAfterLogin();

      // Sn√≠h
      const canvas = document.getElementById('snow');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let flakes = [];
      for (let i = 0; i < 120; i++) {
        flakes.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          r: Math.random() * 4 + 1,
          speed: Math.random() * 1 + 0.5
        });
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = 'white';
        flakes.forEach(f => {
          ctx.beginPath();
          ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
          ctx.fill();
          f.y += f.speed;
          if (f.y > canvas.height) f.y = 0;
        });
        requestAnimationFrame(draw);
      }
      draw();
    };

    function handleSearch(e) {
      if (e.key === 'Enter') {
        alert('Hled√°≈°: ' + e.target.value);
      }
    }
  </script>

</body>
</html>